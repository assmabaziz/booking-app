<section class=" py-5">
  <div class="container-fluid">
    <form [formGroup]="changePasswordForm" (ngSubmit)="uppdatePassword(changePasswordForm)">
      <div class="row justify-content-center">
        <div class="col-12">
          <div class="div">
            <mat-form-field class="w-100 mb-3">
              <mat-label>Old password</mat-label>
              <input matInput formControlName="oldPassword" [type]="hide ? 'password' : 'text'">
              <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>

            </mat-form-field>
            <div *ngIf="changePasswordForm.get('oldPassword')?.errors &&
            changePasswordForm.get('oldPassword')?.touched " class="text-danger mb-3">
              <mat-error *ngIf="changePasswordForm.get('oldPassword')?.errors?.['required']">
                password is required
              </mat-error>
              <mat-error *ngIf="changePasswordForm.get('oldPassword')?.errors?.['pattern']">
                Password invalid format
              </mat-error>
            </div>
          </div>

        </div>
        <div class="col-12">
          <mat-form-field class="w-100 mb-3">
            <mat-label>New password</mat-label>
            <input formControlName="newPassword" matInput [type]="hideNewPassword ? 'password' : 'text'">
            <button mat-icon-button matSuffix (click)="hideNewPassword = !hideNewPassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideNewPassword">
              <mat-icon>{{hideNewPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
          </mat-form-field>
          <div *ngIf="changePasswordForm.get('newPassword')?.errors &&
            changePasswordForm.get('newPassword')?.touched " class="text-danger mb-3">
              <mat-error *ngIf="changePasswordForm.get('newPassword')?.errors?.['required']">
               New password is required
              </mat-error>
              <mat-error *ngIf="changePasswordForm.get('newPassword')?.errors?.['pattern']">
                New Password invalid format
              </mat-error>
            </div>
        </div>
        <div class="col-12">
          <mat-form-field class="w-100 mb-3">
            <mat-label>Confirm password</mat-label>
            <input formControlName="confirmPassword" matInput [type]="hideConfirmNewPassword ? 'password' : 'text'">
            <button mat-icon-button matSuffix (click)="hideConfirmNewPassword = !hideConfirmNewPassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideConfirmNewPassword">
              <mat-icon>{{hideConfirmNewPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
          </mat-form-field>
          <div *ngIf="changePasswordForm.get('confirmPassword')?.errors &&
          changePasswordForm.get('confirmPassword')?.touched " class="text-danger mb-3">
            <mat-error *ngIf="changePasswordForm.get('confirmPassword')?.errors?.['required']">
              Confirm password is required
            </mat-error>
            <mat-error *ngIf="changePasswordForm.get('confirmPassword')?.errors?.['pattern']">
              Confirm password invalid format
            </mat-error>
          </div>
        </div>
        <div class="col-12">
          <button type="submit" class="primary btn w-100 my-3 rounded-4 py-3" [disabled]="!changePasswordForm.valid">
            Save
          </button>
        </div>
      </div>



    </form>
  </div>
</section>
